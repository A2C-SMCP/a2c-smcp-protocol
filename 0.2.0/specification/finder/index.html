
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Agent To Computer Socket.IO-based MCP Protocol Specification">
      
      
      
        <link rel="canonical" href="https://doc.turingfocus.cn/a2c-smcp/latest/specification/finder/">
      
      
        <link rel="prev" href="../desktop/">
      
      
        <link rel="next" href="../room-model/">
      
      
        
      
      
      <link rel="icon" href="../../assets/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Finder 文档系统 - A2C-SMCP Protocol</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#finder-文档系统" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="A2C-SMCP Protocol" class="md-header__button md-logo" aria-label="A2C-SMCP Protocol" data-md-component="logo">
      
  <img src="../../assets/logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            A2C-SMCP Protocol
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Finder 文档系统
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到深色模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换到深色模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="切换到浅色模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换到浅色模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/A2C-SMCP/a2c-smcp-protocol" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    a2c-smcp-protocol
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
  
    
  
  首页

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
  
  协议规范

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../guides/finder-sdk-guide/" class="md-tabs__link">
          
  
  
  开发指南

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../appendix/faq/" class="md-tabs__link">
          
  
  
  附录

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="A2C-SMCP Protocol" class="md-nav__button md-logo" aria-label="A2C-SMCP Protocol" data-md-component="logo">
      
  <img src="../../assets/logo-white.svg" alt="logo">

    </a>
    A2C-SMCP Protocol
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/A2C-SMCP/a2c-smcp-protocol" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    a2c-smcp-protocol
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    首页
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    协议规范
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    协议规范
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    概述
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    架构设计
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    事件定义
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../data-structures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    数据结构
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../desktop/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Desktop 桌面系统
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Finder 文档系统
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Finder 文档系统
  

    
  </span>
  
  

      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="页面目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      页面目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#概述" class="md-nav__link">
    <span class="md-ellipsis">
      
        概述
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desktop-vs-finder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Desktop vs Finder
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpe-数据模型" class="md-nav__link">
    <span class="md-ellipsis">
      
        DPE 数据模型
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DPE 数据模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#三层结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        三层结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#元素类型" class="md-nav__link">
    <span class="md-ellipsis">
      
        元素类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#元数据体系" class="md-nav__link">
    <span class="md-ellipsis">
      
        元数据体系
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpe-uri-协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        dpe:// URI 协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dpe:// URI 协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uri-格式" class="md-nav__link">
    <span class="md-ellipsis">
      
        URI 格式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#组成部分" class="md-nav__link">
    <span class="md-ellipsis">
      
        组成部分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#四级渐进式寻址" class="md-nav__link">
    <span class="md-ellipsis">
      
        四级渐进式寻址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#查询参数" class="md-nav__link">
    <span class="md-ellipsis">
      
        查询参数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#校验规则" class="md-nav__link">
    <span class="md-ellipsis">
      
        校验规则
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uri-示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        URI 示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finder-内容格式" class="md-nav__link">
    <span class="md-ellipsis">
      
        Finder 内容格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Finder 内容格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#level-0--文档目录" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 0 — 文档目录
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-1--文档元数据--页面索引" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 1 — 文档元数据 + 页面索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-2--页面内容" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 2 — 页面内容
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-3--元素详情" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 3 — 元素详情
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown-渲染规则" class="md-nav__link">
    <span class="md-ellipsis">
      
        Markdown 渲染规则
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finder-organizer-策略" class="md-nav__link">
    <span class="md-ellipsis">
      
        Finder Organizer 策略
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Finder Organizer 策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#概述_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        概述
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-1过滤" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 1：过滤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-2mcp-server-优先级排序" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 2：MCP Server 优先级排序
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-3server-内排序" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 3：Server 内排序
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-4分页" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 4：分页
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#算法流程图" class="md-nav__link">
    <span class="md-ellipsis">
      
        算法流程图
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#更新机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="更新机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#变化检测computer-端" class="md-nav__link">
    <span class="md-ellipsis">
      
        变化检测（Computer 端）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="变化检测（Computer 端）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-资源列表变化resourcelistchangednotification" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 资源列表变化（ResourceListChangedNotification）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-资源内容更新resourceupdatednotification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 资源内容更新（ResourceUpdatedNotification）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-agent-主动拉取" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Agent 主动拉取
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#事件流" class="md-nav__link">
    <span class="md-ellipsis">
      
        事件流
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完整通知链时序图" class="md-nav__link">
    <span class="md-ellipsis">
      
        完整通知链时序图
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="完整通知链时序图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#初始拉取流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        初始拉取流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文档列表变化触发流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档列表变化触发流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文档内容变化触发流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档内容变化触发流程
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-端导航" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent 端导航
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent 端导航">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#协议职责边界" class="md-nav__link">
    <span class="md-ellipsis">
      
        协议职责边界
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#设计理由" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计理由
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#渐进式导航流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        渐进式导航流程
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="渐进式导航流程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-获取文档列表" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: 获取文档列表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-打开文档读取-level-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: 打开文档（读取 Level 1）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-阅读页面读取-level-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: 阅读页面（读取 Level 2）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-查看元素详情读取-level-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: 查看元素详情（读取 Level 3）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完整示例遍历文档所有页面" class="md-nav__link">
    <span class="md-ellipsis">
      
        完整示例：遍历文档所有页面
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-内部工具注册可选" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent 内部工具注册（可选）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcp-server-实现指南" class="md-nav__link">
    <span class="md-ellipsis">
      
        MCP Server 实现指南
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MCP Server 实现指南">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#前提条件" class="md-nav__link">
    <span class="md-ellipsis">
      
        前提条件
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#资源声明" class="md-nav__link">
    <span class="md-ellipsis">
      
        资源声明
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#资源模板" class="md-nav__link">
    <span class="md-ellipsis">
      
        资源模板
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#内容提供" class="md-nav__link">
    <span class="md-ellipsis">
      
        内容提供
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#变更通知" class="md-nav__link">
    <span class="md-ellipsis">
      
        变更通知
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#自动补全可选" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动补全（可选）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自动补全（可选）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#补全流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        补全流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#请求响应示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        请求/响应示例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#实现示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        实现示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#最佳实践" class="md-nav__link">
    <span class="md-ellipsis">
      
        最佳实践
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../room-model/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    房间模型
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../error-handling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    错误处理
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    安全考虑
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    开发指南
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    开发指南
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/finder-sdk-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Finder SDK 实现指南
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    附录
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    附录
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    常见问题
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../dpe-standardization-proposal/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DPE 标准化提案
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="页面目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      页面目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#概述" class="md-nav__link">
    <span class="md-ellipsis">
      
        概述
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="概述">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#desktop-vs-finder" class="md-nav__link">
    <span class="md-ellipsis">
      
        Desktop vs Finder
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpe-数据模型" class="md-nav__link">
    <span class="md-ellipsis">
      
        DPE 数据模型
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DPE 数据模型">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#三层结构" class="md-nav__link">
    <span class="md-ellipsis">
      
        三层结构
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#元素类型" class="md-nav__link">
    <span class="md-ellipsis">
      
        元素类型
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#元数据体系" class="md-nav__link">
    <span class="md-ellipsis">
      
        元数据体系
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpe-uri-协议" class="md-nav__link">
    <span class="md-ellipsis">
      
        dpe:// URI 协议
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="dpe:// URI 协议">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#uri-格式" class="md-nav__link">
    <span class="md-ellipsis">
      
        URI 格式
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#组成部分" class="md-nav__link">
    <span class="md-ellipsis">
      
        组成部分
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#四级渐进式寻址" class="md-nav__link">
    <span class="md-ellipsis">
      
        四级渐进式寻址
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#查询参数" class="md-nav__link">
    <span class="md-ellipsis">
      
        查询参数
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#校验规则" class="md-nav__link">
    <span class="md-ellipsis">
      
        校验规则
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uri-示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        URI 示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finder-内容格式" class="md-nav__link">
    <span class="md-ellipsis">
      
        Finder 内容格式
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Finder 内容格式">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#level-0--文档目录" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 0 — 文档目录
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-1--文档元数据--页面索引" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 1 — 文档元数据 + 页面索引
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-2--页面内容" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 2 — 页面内容
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#level-3--元素详情" class="md-nav__link">
    <span class="md-ellipsis">
      
        Level 3 — 元素详情
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#markdown-渲染规则" class="md-nav__link">
    <span class="md-ellipsis">
      
        Markdown 渲染规则
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#finder-organizer-策略" class="md-nav__link">
    <span class="md-ellipsis">
      
        Finder Organizer 策略
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Finder Organizer 策略">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#概述_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        概述
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-1过滤" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 1：过滤
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-2mcp-server-优先级排序" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 2：MCP Server 优先级排序
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-3server-内排序" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 3：Server 内排序
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#步骤-4分页" class="md-nav__link">
    <span class="md-ellipsis">
      
        步骤 4：分页
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#算法流程图" class="md-nav__link">
    <span class="md-ellipsis">
      
        算法流程图
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#更新机制" class="md-nav__link">
    <span class="md-ellipsis">
      
        更新机制
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="更新机制">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#变化检测computer-端" class="md-nav__link">
    <span class="md-ellipsis">
      
        变化检测（Computer 端）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="变化检测（Computer 端）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-资源列表变化resourcelistchangednotification" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. 资源列表变化（ResourceListChangedNotification）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-资源内容更新resourceupdatednotification" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. 资源内容更新（ResourceUpdatedNotification）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-agent-主动拉取" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Agent 主动拉取
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#事件流" class="md-nav__link">
    <span class="md-ellipsis">
      
        事件流
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完整通知链时序图" class="md-nav__link">
    <span class="md-ellipsis">
      
        完整通知链时序图
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="完整通知链时序图">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#初始拉取流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        初始拉取流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文档列表变化触发流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档列表变化触发流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#文档内容变化触发流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        文档内容变化触发流程
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#agent-端导航" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent 端导航
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Agent 端导航">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#协议职责边界" class="md-nav__link">
    <span class="md-ellipsis">
      
        协议职责边界
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#设计理由" class="md-nav__link">
    <span class="md-ellipsis">
      
        设计理由
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#渐进式导航流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        渐进式导航流程
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="渐进式导航流程">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-获取文档列表" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: 获取文档列表
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-打开文档读取-level-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: 打开文档（读取 Level 1）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-阅读页面读取-level-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: 阅读页面（读取 Level 2）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-查看元素详情读取-level-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: 查看元素详情（读取 Level 3）
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#完整示例遍历文档所有页面" class="md-nav__link">
    <span class="md-ellipsis">
      
        完整示例：遍历文档所有页面
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#agent-内部工具注册可选" class="md-nav__link">
    <span class="md-ellipsis">
      
        Agent 内部工具注册（可选）
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mcp-server-实现指南" class="md-nav__link">
    <span class="md-ellipsis">
      
        MCP Server 实现指南
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MCP Server 实现指南">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#前提条件" class="md-nav__link">
    <span class="md-ellipsis">
      
        前提条件
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#资源声明" class="md-nav__link">
    <span class="md-ellipsis">
      
        资源声明
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#资源模板" class="md-nav__link">
    <span class="md-ellipsis">
      
        资源模板
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#内容提供" class="md-nav__link">
    <span class="md-ellipsis">
      
        内容提供
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#变更通知" class="md-nav__link">
    <span class="md-ellipsis">
      
        变更通知
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#自动补全可选" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动补全（可选）
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="自动补全（可选）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#补全流程" class="md-nav__link">
    <span class="md-ellipsis">
      
        补全流程
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#请求响应示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        请求/响应示例
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#实现示例" class="md-nav__link">
    <span class="md-ellipsis">
      
        实现示例
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#最佳实践" class="md-nav__link">
    <span class="md-ellipsis">
      
        最佳实践
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
                



  


  <nav class="md-path" aria-label="导航栏" >
    <ol class="md-path__list">
      
        
  
  
    <li class="md-path__item">
      <a href="../.." class="md-path__link">
        
  <span class="md-ellipsis">
    首页
  </span>

      </a>
    </li>
  

      
      
        
  
  
    
    
      <li class="md-path__item">
        <a href="../" class="md-path__link">
          
  <span class="md-ellipsis">
    协议规范
  </span>

        </a>
      </li>
    
  

      
    </ol>
  </nav>

              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="finder-文档系统">Finder 文档系统<a class="headerlink" href="#finder-文档系统" title="Permanent link">&para;</a></h1>
<h2 id="概述">概述<a class="headerlink" href="#概述" title="Permanent link">&para;</a></h2>
<p>Finder 是 A2C-SMCP 协议中管理<strong>结构化持久文档</strong>的子系统。它将多个 MCP Server 暴露的 <code>dpe://</code> 资源聚合为统一的文档目录视图，支持 Agent 对文档进行<strong>渐进式导航</strong>（逐层钻入：目录 → 文档 → 页面 → 元素），适用于多页文档、表格、演示文稿等大型结构化内容。</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────┐
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>│                          Computer                                │
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>│                                                                  │
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>│   ┌──────────┐   ┌──────────┐   ┌──────────┐                   │
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>│   │MCP Srv A │   │MCP Srv B │   │MCP Srv C │                   │
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>│   │dpe://a   │   │dpe://b   │   │(无文档)   │                   │
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>│   │  /report │   │  /slides │   │          │                   │
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>│   │  /data   │   │          │   │          │                   │
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>│   └────┬─────┘   └────┬─────┘   └──────────┘                   │
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>│        │              │                                          │
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>│        ▼              ▼                                          │
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>│   ┌─────────────────────────┐                                   │
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>│   │   Finder Organizer      │ ← 过滤、排序、分页                 │
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>│   │   (organize_finder)     │                                   │
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>│   └───────────┬─────────────┘                                   │
<a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>│               │                                                  │
<a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>└───────────────┼──────────────────────────────────────────────────┘
<a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>                │
<a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>                ▼
<a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>           ┌─────────┐
<a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>           │  Agent   │  ← 通过 client:get_finder + MCP resources/read 访问
<a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>           └─────────┘
</code></pre></div>
<h3 id="desktop-vs-finder">Desktop vs Finder<a class="headerlink" href="#desktop-vs-finder" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>维度</th>
<th>Desktop (<code>window://</code>)</th>
<th>Finder (<code>dpe://</code>)</th>
</tr>
</thead>
<tbody>
<tr>
<td>数据量</td>
<td>小（渲染文本）</td>
<td>大（数百页文档）</td>
</tr>
<tr>
<td>粒度</td>
<td>扁平（URI + body）</td>
<td>层级（D-P-E 树）</td>
</tr>
<tr>
<td>访问模式</td>
<td>全量拉取</td>
<td><strong>渐进式披露</strong>（逐层钻入）</td>
</tr>
<tr>
<td>生命周期</td>
<td>短暂、频繁变化</td>
<td>持久、偶尔更新</td>
</tr>
<tr>
<td>Agent 交互</td>
<td>被动阅读</td>
<td>主动导航（按 URI 逐层读取）</td>
</tr>
</tbody>
</table>
<p>Finder 的核心理念是：<strong>MCP Server 只需按 MCP 标准暴露 <code>dpe://</code> 资源，无需任何 SMCP 特定改动</strong>，Computer 自动完成聚合。Agent 通过协议事件获取文档目录，通过标准 MCP <code>resources/read</code> 按需读取各级内容，具体的导航逻辑（分页、搜索、格式转换等）由 Agent 内部实现。</p>
<hr />
<h2 id="dpe-数据模型">DPE 数据模型<a class="headerlink" href="#dpe-数据模型" title="Permanent link">&para;</a></h2>
<p>DPE（Document-Page-Element）是 Finder 系统的数据模型基础，定义了文档内容的三层结构。</p>
<h3 id="三层结构">三层结构<a class="headerlink" href="#三层结构" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>Document（文档）
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>├── Page 0（页面）
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>│   ├── Element A（元素）
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>│   ├── Element B
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>│   └── Element C
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>├── Page 1
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>│   ├── Element D
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>│   └── Element E
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>└── Page N
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    └── ...
</code></pre></div>
<table>
<thead>
<tr>
<th>层级</th>
<th>说明</th>
<th>标识方式</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Document</strong></td>
<td>一个完整文档实例（如一份 Excel 工作簿、一个 PDF 文件）</td>
<td><code>doc_ref</code>（MCP Server 分配的不透明短键）</td>
</tr>
<tr>
<td><strong>Page</strong></td>
<td>文档内的一个逻辑页面（如 Excel 工作表、PDF 页面、PPT 幻灯片）</td>
<td>从 0 开始的页码索引</td>
</tr>
<tr>
<td><strong>Element</strong></td>
<td>页面内的一个内容单元（如表格、段落、图表、图片）</td>
<td>MCP Server 分配的元素 ID</td>
</tr>
</tbody>
</table>
<h3 id="元素类型">元素类型<a class="headerlink" href="#元素类型" title="Permanent link">&para;</a></h3>
<p>DPE 模型定义了 19 种标准元素类型，覆盖常见文档内容：</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>元素类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>文本类</strong></td>
<td><code>text</code></td>
<td>纯文本/富文本段落</td>
</tr>
<tr>
<td></td>
<td><code>heading</code></td>
<td>标题（含层级）</td>
</tr>
<tr>
<td></td>
<td><code>list</code></td>
<td>列表（有序/无序）</td>
</tr>
<tr>
<td></td>
<td><code>code</code></td>
<td>代码块</td>
</tr>
<tr>
<td><strong>表格类</strong></td>
<td><code>table</code></td>
<td>表格数据</td>
</tr>
<tr>
<td></td>
<td><code>pivot_table</code></td>
<td>数据透视表</td>
</tr>
<tr>
<td><strong>可视化</strong></td>
<td><code>chart</code></td>
<td>图表（柱状图、折线图等）</td>
</tr>
<tr>
<td></td>
<td><code>diagram</code></td>
<td>流程图/架构图</td>
</tr>
<tr>
<td></td>
<td><code>image</code></td>
<td>嵌入图片</td>
</tr>
<tr>
<td><strong>数据类</strong></td>
<td><code>formula</code></td>
<td>公式/计算表达式</td>
</tr>
<tr>
<td></td>
<td><code>link</code></td>
<td>超链接/引用</td>
</tr>
<tr>
<td></td>
<td><code>annotation</code></td>
<td>批注/评论</td>
</tr>
<tr>
<td><strong>布局类</strong></td>
<td><code>header</code></td>
<td>页眉</td>
</tr>
<tr>
<td></td>
<td><code>footer</code></td>
<td>页脚</td>
</tr>
<tr>
<td></td>
<td><code>separator</code></td>
<td>分隔符</td>
</tr>
<tr>
<td><strong>媒体类</strong></td>
<td><code>audio</code></td>
<td>音频嵌入</td>
</tr>
<tr>
<td></td>
<td><code>video</code></td>
<td>视频嵌入</td>
</tr>
<tr>
<td><strong>交互类</strong></td>
<td><code>form</code></td>
<td>表单</td>
</tr>
<tr>
<td></td>
<td><code>widget</code></td>
<td>自定义控件</td>
</tr>
</tbody>
</table>
<h3 id="元数据体系">元数据体系<a class="headerlink" href="#元数据体系" title="Permanent link">&para;</a></h3>
<p>每个 DPE 层级都携带元数据，用于描述内容的属性和上下文信息：</p>
<p><strong>文档级元数据</strong>:</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td><code>str</code></td>
<td>文档标题</td>
</tr>
<tr>
<td><code>file_type</code></td>
<td><code>str</code></td>
<td>文件类型（<code>xlsx</code>、<code>pdf</code>、<code>pptx</code> 等）</td>
</tr>
<tr>
<td><code>page_count</code></td>
<td><code>int</code></td>
<td>总页数</td>
</tr>
<tr>
<td><code>keywords</code></td>
<td><code>list[str]</code></td>
<td>关键词列表</td>
</tr>
<tr>
<td><code>summary</code></td>
<td><code>str</code></td>
<td>文档摘要</td>
</tr>
<tr>
<td><code>last_modified</code></td>
<td><code>str</code></td>
<td>最后修改时间（ISO 8601）</td>
</tr>
<tr>
<td><code>file_uri</code></td>
<td><code>str</code></td>
<td>原始文件 URI</td>
</tr>
</tbody>
</table>
<p><strong>页面级元数据</strong>:</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>page_index</code></td>
<td><code>int</code></td>
<td>页码（从 0 开始）</td>
</tr>
<tr>
<td><code>title</code></td>
<td><code>str</code></td>
<td>页面标题（如工作表名）</td>
</tr>
<tr>
<td><code>element_count</code></td>
<td><code>int</code></td>
<td>元素数量</td>
</tr>
</tbody>
</table>
<p><strong>元素级元数据</strong>:</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>element_id</code></td>
<td><code>str</code></td>
<td>元素唯一标识</td>
</tr>
<tr>
<td><code>category</code></td>
<td><code>str</code></td>
<td>元素类型（见上方 19 种类型）</td>
</tr>
<tr>
<td><code>summary</code></td>
<td><code>str</code></td>
<td>元素内容摘要</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="dpe-uri-协议">dpe:// URI 协议<a class="headerlink" href="#dpe-uri-协议" title="Permanent link">&para;</a></h2>
<h3 id="uri-格式">URI 格式<a class="headerlink" href="#uri-格式" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>dpe://{host}/{doc-ref}[/sub-path][?query-params]
</code></pre></div>
<h3 id="组成部分">组成部分<a class="headerlink" href="#组成部分" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>组件</th>
<th>必填</th>
<th>说明</th>
<th>约束</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>scheme</code></td>
<td>是</td>
<td>固定 <code>dpe</code></td>
<td>必须为 <code>dpe</code>，否则解析失败</td>
</tr>
<tr>
<td><code>host</code></td>
<td>是</td>
<td>MCP Server 唯一标识</td>
<td>不能为空；推荐反向域名风格，如 <code>com.example.mcp</code></td>
</tr>
<tr>
<td><code>doc-ref</code></td>
<td>否</td>
<td>文档引用键（MCP Server 分配的不透明短键）</td>
<td>URL-safe 或 URL-encoded</td>
</tr>
<tr>
<td><code>sub-path</code></td>
<td>否</td>
<td>文档内导航路径</td>
<td><code>pages/{N}</code> 或 <code>elements/{ID}</code></td>
</tr>
</tbody>
</table>
<h3 id="四级渐进式寻址">四级渐进式寻址<a class="headerlink" href="#四级渐进式寻址" title="Permanent link">&para;</a></h3>
<p>DPE URI 支持四个级别的渐进式寻址，Agent 可以从目录开始逐层深入：</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Level 0: dpe://host                        → 文档目录
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Level 1: dpe://host/doc-ref                → 文档元数据 + 页面索引
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>Level 2: dpe://host/doc-ref/pages/{N}      → 页面内容（元素列表）
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>Level 3: dpe://host/doc-ref/elements/{ID}  → 元素详情
</code></pre></div>
<table>
<thead>
<tr>
<th>级别</th>
<th>URI 示例</th>
<th>返回内容</th>
<th>典型用途</th>
</tr>
</thead>
<tbody>
<tr>
<td>Level 0</td>
<td><code>dpe://com.example.docs</code></td>
<td>该 Server 下所有文档的摘要列表</td>
<td>浏览可用文档</td>
</tr>
<tr>
<td>Level 1</td>
<td><code>dpe://com.example.docs/rpt-2026</code></td>
<td>文档元数据 + 页面索引</td>
<td>了解文档结构</td>
</tr>
<tr>
<td>Level 2</td>
<td><code>dpe://com.example.docs/rpt-2026/pages/0</code></td>
<td>第 0 页的元素列表</td>
<td>阅读页面内容</td>
</tr>
<tr>
<td>Level 3</td>
<td><code>dpe://com.example.docs/rpt-2026/elements/tbl-001</code></td>
<td>元素的完整详情</td>
<td>查看具体元素</td>
</tr>
</tbody>
</table>
<h3 id="查询参数">查询参数<a class="headerlink" href="#查询参数" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>参数</th>
<th>适用级别</th>
<th>类型</th>
<th>说明</th>
<th>默认</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>format</code></td>
<td>所有</td>
<td><code>json</code> / <code>markdown</code> / <code>text</code></td>
<td>响应格式</td>
<td><code>json</code></td>
</tr>
<tr>
<td><code>depth</code></td>
<td>Level 1</td>
<td><code>metadata</code> / <code>pages</code></td>
<td>包含深度</td>
<td><code>metadata</code></td>
</tr>
<tr>
<td><code>offset</code></td>
<td>Level 1</td>
<td>int &gt;= 0</td>
<td>页面分页偏移</td>
<td><code>0</code></td>
</tr>
<tr>
<td><code>limit</code></td>
<td>Level 1</td>
<td>int [1, 100]</td>
<td>页面分页限制</td>
<td><code>20</code></td>
</tr>
<tr>
<td><code>categories</code></td>
<td>Level 2</td>
<td>逗号分隔</td>
<td>元素类型过滤</td>
<td>全部</td>
</tr>
</tbody>
</table>
<h3 id="校验规则">校验规则<a class="headerlink" href="#校验规则" title="Permanent link">&para;</a></h3>
<ol>
<li><code>scheme</code> 必须为 <code>dpe</code></li>
<li><code>host</code> 不能为空</li>
<li><code>sub-path</code> 若存在，必须匹配 <code>pages/{非负整数}</code> 或 <code>elements/{非空字符串}</code></li>
<li><code>format</code> 若存在，必须为 <code>json</code>、<code>markdown</code>、<code>text</code> 之一</li>
<li><code>depth</code> 若存在，必须为 <code>metadata</code> 或 <code>pages</code></li>
<li><code>offset</code> 若存在，必须为非负整数</li>
<li><code>limit</code> 若存在，必须为 <code>[1, 100]</code> 范围内的整数</li>
<li><code>categories</code> 若存在，必须是合法的元素类型（见 <a href="#元素类型">元素类型</a>）的逗号分隔列表</li>
</ol>
<h3 id="uri-示例">URI 示例<a class="headerlink" href="#uri-示例" title="Permanent link">&para;</a></h3>
<p><strong>Level 0 — 文档目录</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>dpe://com.example.docs
</code></pre></div>
<p><strong>Level 1 — 文档元数据（含页面索引）</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>dpe://com.example.docs/rpt-2026?depth=pages&amp;offset=0&amp;limit=10
</code></pre></div>
<p><strong>Level 2 — 页面内容（仅表格元素）</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>dpe://com.example.docs/rpt-2026/pages/0?categories=table,pivot_table&amp;format=markdown
</code></pre></div>
<p><strong>Level 3 — 元素详情</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>dpe://com.example.docs/rpt-2026/elements/tbl-001?format=json
</code></pre></div>
<hr />
<h2 id="finder-内容格式">Finder 内容格式<a class="headerlink" href="#finder-内容格式" title="Permanent link">&para;</a></h2>
<h3 id="level-0--文档目录">Level 0 — 文档目录<a class="headerlink" href="#level-0--文档目录" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="p">{</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;documents&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="w">      </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="w">      </span><span class="nt">&quot;file_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file:///data/reports/2026-annual.xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="w">      </span><span class="nt">&quot;file_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度报告&quot;</span><span class="p">,</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="w">      </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="w">      </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;财务&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;年报&quot;</span><span class="p">],</span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度财务与运营报告&quot;</span><span class="p">,</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="w">      </span><span class="nt">&quot;last_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-15T08:30:00Z&quot;</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="w">      </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;contract-a1&quot;</span><span class="p">,</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/contract-a1&quot;</span><span class="p">,</span>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="w">      </span><span class="nt">&quot;file_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file:///data/contracts/a1.pdf&quot;</span><span class="p">,</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="w">      </span><span class="nt">&quot;file_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pdf&quot;</span><span class="p">,</span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A1 合同&quot;</span><span class="p">,</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="w">      </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="w">      </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;合同&quot;</span><span class="p">],</span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A1 项目服务合同&quot;</span><span class="p">,</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="w">      </span><span class="nt">&quot;last_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-02-01T14:00:00Z&quot;</span>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="w">  </span><span class="nt">&quot;total_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="p">}</span>
</code></pre></div>
<h3 id="level-1--文档元数据--页面索引">Level 1 — 文档元数据 + 页面索引<a class="headerlink" href="#level-1--文档元数据--页面索引" title="Permanent link">&para;</a></h3>
<p><strong><code>depth=metadata</code></strong>（默认）:</p>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="p">{</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">  </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">  </span><span class="nt">&quot;file_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file:///data/reports/2026-annual.xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">  </span><span class="nt">&quot;file_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度报告&quot;</span><span class="p">,</span>
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a><span class="w">  </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a><span class="w">  </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;财务&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;年报&quot;</span><span class="p">],</span>
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a><span class="w">  </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度财务与运营报告&quot;</span><span class="p">,</span>
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a><span class="w">  </span><span class="nt">&quot;last_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-15T08:30:00Z&quot;</span>
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a><span class="p">}</span>
</code></pre></div>
<p><strong><code>depth=pages</code></strong>:</p>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="p">{</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">  </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">  </span><span class="nt">&quot;file_uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;file:///data/reports/2026-annual.xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">  </span><span class="nt">&quot;file_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;xlsx&quot;</span><span class="p">,</span>
<a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度报告&quot;</span><span class="p">,</span>
<a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">  </span><span class="nt">&quot;page_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">  </span><span class="nt">&quot;keywords&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;财务&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;年报&quot;</span><span class="p">],</span>
<a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">  </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度财务与运营报告&quot;</span><span class="p">,</span>
<a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">  </span><span class="nt">&quot;last_modified&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026-01-15T08:30:00Z&quot;</span><span class="p">,</span>
<a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">  </span><span class="nt">&quot;pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">      </span><span class="nt">&quot;page_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;概览&quot;</span><span class="p">,</span>
<a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">      </span><span class="nt">&quot;element_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/pages/0&quot;</span><span class="p">,</span>
<a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">      </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span>
<a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="w">      </span><span class="nt">&quot;page_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-10-21" name="__codelineno-10-21" href="#__codelineno-10-21"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;收入分析&quot;</span><span class="p">,</span>
<a id="__codelineno-10-22" name="__codelineno-10-22" href="#__codelineno-10-22"></a><span class="w">      </span><span class="nt">&quot;element_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
<a id="__codelineno-10-23" name="__codelineno-10-23" href="#__codelineno-10-23"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/pages/1&quot;</span><span class="p">,</span>
<a id="__codelineno-10-24" name="__codelineno-10-24" href="#__codelineno-10-24"></a><span class="w">      </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span>
<a id="__codelineno-10-25" name="__codelineno-10-25" href="#__codelineno-10-25"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-10-26" name="__codelineno-10-26" href="#__codelineno-10-26"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-10-27" name="__codelineno-10-27" href="#__codelineno-10-27"></a><span class="w">  </span><span class="nt">&quot;page_offset&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-10-28" name="__codelineno-10-28" href="#__codelineno-10-28"></a><span class="w">  </span><span class="nt">&quot;page_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span>
<a id="__codelineno-10-29" name="__codelineno-10-29" href="#__codelineno-10-29"></a><span class="w">  </span><span class="nt">&quot;page_total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span>
<a id="__codelineno-10-30" name="__codelineno-10-30" href="#__codelineno-10-30"></a><span class="p">}</span>
</code></pre></div>
<h3 id="level-2--页面内容">Level 2 — 页面内容<a class="headerlink" href="#level-2--页面内容" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="p">{</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">  </span><span class="nt">&quot;page_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;概览&quot;</span><span class="p">,</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="w">  </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">  </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/pages/0&quot;</span><span class="p">,</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">  </span><span class="nt">&quot;elements&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">      </span><span class="nt">&quot;element_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;h-001&quot;</span><span class="p">,</span>
<a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">      </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;heading&quot;</span><span class="p">,</span>
<a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度总结&quot;</span><span class="p">,</span>
<a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">        </span><span class="nt">&quot;level&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2026 年度总结&quot;</span>
<a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">      </span><span class="nt">&quot;element_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;txt-001&quot;</span><span class="p">,</span>
<a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="w">      </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
<a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;报告引言段落&quot;</span><span class="p">,</span>
<a id="__codelineno-11-20" name="__codelineno-11-20" href="#__codelineno-11-20"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-21" name="__codelineno-11-21" href="#__codelineno-11-21"></a><span class="w">        </span><span class="nt">&quot;text&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;本报告总结了 2026 年度公司在各业务领域的运营情况...&quot;</span>
<a id="__codelineno-11-22" name="__codelineno-11-22" href="#__codelineno-11-22"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-11-23" name="__codelineno-11-23" href="#__codelineno-11-23"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-11-24" name="__codelineno-11-24" href="#__codelineno-11-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-11-25" name="__codelineno-11-25" href="#__codelineno-11-25"></a><span class="w">      </span><span class="nt">&quot;element_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tbl-001&quot;</span><span class="p">,</span>
<a id="__codelineno-11-26" name="__codelineno-11-26" href="#__codelineno-11-26"></a><span class="w">      </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="p">,</span>
<a id="__codelineno-11-27" name="__codelineno-11-27" href="#__codelineno-11-27"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;季度收入对比表（4行3列）&quot;</span><span class="p">,</span>
<a id="__codelineno-11-28" name="__codelineno-11-28" href="#__codelineno-11-28"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-29" name="__codelineno-11-29" href="#__codelineno-11-29"></a><span class="w">        </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;季度&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;收入（万元）&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;同比增长&quot;</span><span class="p">],</span>
<a id="__codelineno-11-30" name="__codelineno-11-30" href="#__codelineno-11-30"></a><span class="w">        </span><span class="nt">&quot;rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-11-31" name="__codelineno-11-31" href="#__codelineno-11-31"></a><span class="w">          </span><span class="p">[</span><span class="s2">&quot;Q1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,250&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+12%&quot;</span><span class="p">],</span>
<a id="__codelineno-11-32" name="__codelineno-11-32" href="#__codelineno-11-32"></a><span class="w">          </span><span class="p">[</span><span class="s2">&quot;Q2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,380&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+15%&quot;</span><span class="p">],</span>
<a id="__codelineno-11-33" name="__codelineno-11-33" href="#__codelineno-11-33"></a><span class="w">          </span><span class="p">[</span><span class="s2">&quot;Q3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,420&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+8%&quot;</span><span class="p">],</span>
<a id="__codelineno-11-34" name="__codelineno-11-34" href="#__codelineno-11-34"></a><span class="w">          </span><span class="p">[</span><span class="s2">&quot;Q4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,560&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+18%&quot;</span><span class="p">]</span>
<a id="__codelineno-11-35" name="__codelineno-11-35" href="#__codelineno-11-35"></a><span class="w">        </span><span class="p">]</span>
<a id="__codelineno-11-36" name="__codelineno-11-36" href="#__codelineno-11-36"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-11-37" name="__codelineno-11-37" href="#__codelineno-11-37"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-11-38" name="__codelineno-11-38" href="#__codelineno-11-38"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-11-39" name="__codelineno-11-39" href="#__codelineno-11-39"></a><span class="w">      </span><span class="nt">&quot;element_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chart-001&quot;</span><span class="p">,</span>
<a id="__codelineno-11-40" name="__codelineno-11-40" href="#__codelineno-11-40"></a><span class="w">      </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;chart&quot;</span><span class="p">,</span>
<a id="__codelineno-11-41" name="__codelineno-11-41" href="#__codelineno-11-41"></a><span class="w">      </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;季度收入趋势图&quot;</span><span class="p">,</span>
<a id="__codelineno-11-42" name="__codelineno-11-42" href="#__codelineno-11-42"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-11-43" name="__codelineno-11-43" href="#__codelineno-11-43"></a><span class="w">        </span><span class="nt">&quot;chart_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
<a id="__codelineno-11-44" name="__codelineno-11-44" href="#__codelineno-11-44"></a><span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;季度收入趋势&quot;</span><span class="p">,</span>
<a id="__codelineno-11-45" name="__codelineno-11-45" href="#__codelineno-11-45"></a><span class="w">        </span><span class="nt">&quot;data_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Q1-Q4 收入呈上升趋势，Q4 达到最高点 1,560 万元&quot;</span>
<a id="__codelineno-11-46" name="__codelineno-11-46" href="#__codelineno-11-46"></a><span class="w">      </span><span class="p">}</span>
<a id="__codelineno-11-47" name="__codelineno-11-47" href="#__codelineno-11-47"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-11-48" name="__codelineno-11-48" href="#__codelineno-11-48"></a><span class="w">  </span><span class="p">],</span>
<a id="__codelineno-11-49" name="__codelineno-11-49" href="#__codelineno-11-49"></a><span class="w">  </span><span class="nt">&quot;element_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<a id="__codelineno-11-50" name="__codelineno-11-50" href="#__codelineno-11-50"></a><span class="p">}</span>
</code></pre></div>
<h3 id="level-3--元素详情">Level 3 — 元素详情<a class="headerlink" href="#level-3--元素详情" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="p">{</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nt">&quot;element_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tbl-001&quot;</span><span class="p">,</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">  </span><span class="nt">&quot;category&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;table&quot;</span><span class="p">,</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">  </span><span class="nt">&quot;doc_ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">  </span><span class="nt">&quot;page_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">  </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/elements/tbl-001&quot;</span><span class="p">,</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">  </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;季度收入对比表（4行3列）&quot;</span><span class="p">,</span>
<a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">  </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">    </span><span class="nt">&quot;headers&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;季度&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;收入（万元）&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;同比增长&quot;</span><span class="p">],</span>
<a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">    </span><span class="nt">&quot;rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="w">      </span><span class="p">[</span><span class="s2">&quot;Q1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,250&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+12%&quot;</span><span class="p">],</span>
<a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="w">      </span><span class="p">[</span><span class="s2">&quot;Q2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,380&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+15%&quot;</span><span class="p">],</span>
<a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="w">      </span><span class="p">[</span><span class="s2">&quot;Q3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,420&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+8%&quot;</span><span class="p">],</span>
<a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="w">      </span><span class="p">[</span><span class="s2">&quot;Q4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1,560&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;+18%&quot;</span><span class="p">]</span>
<a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="w">    </span><span class="p">],</span>
<a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="w">    </span><span class="nt">&quot;total_rows&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
<a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="w">    </span><span class="nt">&quot;total_columns&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
<a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="w">  </span><span class="p">},</span>
<a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="w">  </span><span class="nt">&quot;metadata&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="w">    </span><span class="nt">&quot;source_range&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A1:C5&quot;</span><span class="p">,</span>
<a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="w">    </span><span class="nt">&quot;has_formulas&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="p">}</span>
</code></pre></div>
<h3 id="markdown-渲染规则">Markdown 渲染规则<a class="headerlink" href="#markdown-渲染规则" title="Permanent link">&para;</a></h3>
<p>当 <code>format=markdown</code> 时，各元素按以下规则渲染为 Markdown 文本：</p>
<table>
<thead>
<tr>
<th>元素类型</th>
<th>Markdown 渲染</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>heading</code></td>
<td><code># / ## / ###</code> 等，根据 <code>level</code> 确定</td>
</tr>
<tr>
<td><code>text</code></td>
<td>直接输出文本，保留段落换行</td>
</tr>
<tr>
<td><code>table</code></td>
<td>标准 Markdown 表格（<code>\| ... \|</code> 格式）</td>
</tr>
<tr>
<td><code>list</code></td>
<td>有序列表 <code>1.</code> 或无序列表 <code>-</code></td>
</tr>
<tr>
<td><code>code</code></td>
<td>围栏代码块 <code>```</code></td>
</tr>
<tr>
<td><code>chart</code></td>
<td><code>[图表: {title}] {data_summary}</code></td>
</tr>
<tr>
<td><code>image</code></td>
<td><code>![{alt}]({url})</code> 或 <code>[图片: {description}]</code></td>
</tr>
<tr>
<td><code>link</code></td>
<td><code>[{text}]({url})</code></td>
</tr>
<tr>
<td><code>formula</code></td>
<td><code>$ {expression} $</code></td>
</tr>
<tr>
<td>其他类型</td>
<td><code>[{category}: {summary}]</code></td>
</tr>
</tbody>
</table>
<hr />
<h2 id="finder-organizer-策略">Finder Organizer 策略<a class="headerlink" href="#finder-organizer-策略" title="Permanent link">&para;</a></h2>
<h3 id="概述_1">概述<a class="headerlink" href="#概述_1" title="Permanent link">&para;</a></h3>
<p>Computer 通过 <code>organize_finder(documents, keywords, file_type, history)</code> 函数对来自多个 MCP Server 的文档进行组织，输出经过过滤、排序和分页的文档目录。</p>
<h3 id="步骤-1过滤">步骤 1：过滤<a class="headerlink" href="#步骤-1过滤" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>关键词过滤</strong>（<code>keywords</code>）: 匹配文档的 <code>title</code>、<code>keywords</code>、<code>summary</code> 字段（任一命中即保留）</li>
<li><strong>文件类型过滤</strong>（<code>file_type</code>）: 精确匹配文档的 <code>file_type</code> 字段</li>
<li><strong>无效文档过滤</strong>: 跳过 URI 无效（非 <code>dpe://</code> 或解析失败）的文档</li>
</ul>
<h3 id="步骤-2mcp-server-优先级排序">步骤 2：MCP Server 优先级排序<a class="headerlink" href="#步骤-2mcp-server-优先级排序" title="Permanent link">&para;</a></h3>
<p>与 Desktop 一致，根据工具调用历史确定 Server 的展示顺序：</p>
<ol>
<li><strong>反向遍历</strong>工具调用历史记录，去重后得到最近使用的 Server 列表（最近使用的排在前面）</li>
<li><strong>未出现在历史中的 Server</strong> 按名称字母序追加到末尾</li>
</ol>
<h3 id="步骤-3server-内排序">步骤 3：Server 内排序<a class="headerlink" href="#步骤-3server-内排序" title="Permanent link">&para;</a></h3>
<p>同一 Server 内的文档按 <code>last_modified</code> <strong>降序</strong>排列（最近修改的在前）。未指定 <code>last_modified</code> 的文档排在末尾。</p>
<h3 id="步骤-4分页">步骤 4：分页<a class="headerlink" href="#步骤-4分页" title="Permanent link">&para;</a></h3>
<ul>
<li><code>offset</code> 指定起始位置（默认 <code>0</code>）</li>
<li><code>limit</code> 指定返回数量（默认 <code>20</code>，最大 <code>100</code>）</li>
<li>返回结果中包含 <code>total_count</code> 供 Agent 判断是否需要继续翻页</li>
</ul>
<h3 id="算法流程图">算法流程图<a class="headerlink" href="#算法流程图" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>flowchart TD
<a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a>    A[输入: documents, keywords, file_type, history] --&gt; B[过滤无效文档]
<a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a>    B --&gt; C{keywords 非空?}
<a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a>    C -- 是 --&gt; D[关键词匹配过滤]
<a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a>    C -- 否 --&gt; E{file_type 非空?}
<a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a>    D --&gt; E
<a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a>    E -- 是 --&gt; F[文件类型过滤]
<a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a>    E -- 否 --&gt; G[按 Server 优先级排序]
<a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a>    F --&gt; G
<a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a>    G --&gt; H[Server 内按 last_modified 降序]
<a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a>    H --&gt; I[应用 offset/limit 分页]
<a id="__codelineno-13-12" name="__codelineno-13-12" href="#__codelineno-13-12"></a>    I --&gt; J[返回文档列表 + total_count]
</code></pre></div>
<hr />
<h2 id="更新机制">更新机制<a class="headerlink" href="#更新机制" title="Permanent link">&para;</a></h2>
<h3 id="变化检测computer-端">变化检测（Computer 端）<a class="headerlink" href="#变化检测computer-端" title="Permanent link">&para;</a></h3>
<p>Computer 通过监听 MCP Server 的资源变更通知来检测文档变化：</p>
<h4 id="1-资源列表变化resourcelistchangednotification">1. 资源列表变化（ResourceListChangedNotification）<a class="headerlink" href="#1-资源列表变化resourcelistchangednotification" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>MCP Server 发出 ResourceListChangedNotification
<a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a>    → Computer 收集当前所有 dpe:// URI
<a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a>    → 与缓存的 URI 集合比较
<a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a>    → 集合不同 → 触发 Finder 刷新
<a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a>    → 集合相同 → 跳过（仅记录日志）
</code></pre></div>
<h4 id="2-资源内容更新resourceupdatednotification">2. 资源内容更新（ResourceUpdatedNotification）<a class="headerlink" href="#2-资源内容更新resourceupdatednotification" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>MCP Server 发出 ResourceUpdatedNotification (携带具体 URI)
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>    → Computer 检查该 URI 是否为 dpe://
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>    → 是 → 直接触发 Finder 刷新（无需集合比较，降低延迟）
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>    → 否 → 忽略
</code></pre></div>
<h4 id="3-agent-主动拉取">3. Agent 主动拉取<a class="headerlink" href="#3-agent-主动拉取" title="Permanent link">&para;</a></h4>
<p>Agent 可在任何时候通过 <code>client:get_finder</code> 事件主动获取最新文档目录，无需等待通知。</p>
<h3 id="事件流">事件流<a class="headerlink" href="#事件流" title="Permanent link">&para;</a></h3>
<p>当 Computer 检测到文档变化时，通过以下事件链通知 Agent：</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>Computer ──[server:update_finder]──→ Server ──[notify:update_finder]──→ Agent
</code></pre></div>
<p>两个事件均复用 <code>UpdateComputerConfigReq</code> 数据结构：</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="p">{</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>    <span class="s2">&quot;computer&quot;</span><span class="p">:</span> <span class="nb">str</span>   <span class="c1"># Computer 名称</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="p">}</span>
</code></pre></div>
<p>Agent 收到 <code>notify:update_finder</code> 后，建议自动调用 <code>client:get_finder</code> 获取最新文档目录。</p>
<h3 id="完整通知链时序图">完整通知链时序图<a class="headerlink" href="#完整通知链时序图" title="Permanent link">&para;</a></h3>
<h4 id="初始拉取流程">初始拉取流程<a class="headerlink" href="#初始拉取流程" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>sequenceDiagram
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>    participant A as Agent
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    participant S as Server
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>    participant C as Computer
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>    A-&gt;&gt;S: client:get_finder (GetFinderReq)
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>    S-&gt;&gt;C: client:get_finder (转发)
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>    C-&gt;&gt;C: organize_finder()
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>    C-&gt;&gt;S: GetFinderRet
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>    S-&gt;&gt;A: GetFinderRet
</code></pre></div>
<h4 id="文档列表变化触发流程">文档列表变化触发流程<a class="headerlink" href="#文档列表变化触发流程" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>sequenceDiagram
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>    participant M as MCP Server
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>    participant C as Computer
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>    participant S as Server
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>    participant A as Agent
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>    Note over M: 文档增删（如新增 dpe:// 资源）
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>    M-&gt;&gt;C: ResourceListChangedNotification
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>    C-&gt;&gt;C: 收集 dpe:// URI 集合
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>    C-&gt;&gt;C: 与缓存比较 → 集合不同
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>    C-&gt;&gt;S: server:update_finder {&quot;computer&quot;: &quot;...&quot;}
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>    S-&gt;&gt;A: notify:update_finder {&quot;computer&quot;: &quot;...&quot;}
<a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a>    A-&gt;&gt;S: client:get_finder (GetFinderReq)
<a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a>    S-&gt;&gt;C: client:get_finder (转发)
<a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a>    C-&gt;&gt;C: organize_finder()
<a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a>    C-&gt;&gt;S: GetFinderRet
<a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a>    S-&gt;&gt;A: GetFinderRet
</code></pre></div>
<h4 id="文档内容变化触发流程">文档内容变化触发流程<a class="headerlink" href="#文档内容变化触发流程" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>sequenceDiagram
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>    participant M as MCP Server
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>    participant C as Computer
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>    participant S as Server
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>    participant A as Agent
<a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>
<a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>    Note over M: 文档内容更新
<a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>    M-&gt;&gt;C: ResourceUpdatedNotification (uri=dpe://...)
<a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>    C-&gt;&gt;C: 确认为 dpe:// URI
<a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>    C-&gt;&gt;S: server:update_finder {&quot;computer&quot;: &quot;...&quot;}
<a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a>    S-&gt;&gt;A: notify:update_finder {&quot;computer&quot;: &quot;...&quot;}
<a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a>    A-&gt;&gt;S: client:get_finder (GetFinderReq)
<a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a>    S-&gt;&gt;C: client:get_finder (转发)
<a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a>    C-&gt;&gt;C: organize_finder()
<a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a>    C-&gt;&gt;S: GetFinderRet
<a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a>    S-&gt;&gt;A: GetFinderRet
</code></pre></div>
<hr />
<h2 id="agent-端导航">Agent 端导航<a class="headerlink" href="#agent-端导航" title="Permanent link">&para;</a></h2>
<h3 id="协议职责边界">协议职责边界<a class="headerlink" href="#协议职责边界" title="Permanent link">&para;</a></h3>
<p>Finder 协议<strong>仅定义</strong>以下内容：</p>
<ol>
<li><strong>DPE 数据格式</strong>：Document-Page-Element 三层结构及其元数据体系</li>
<li><strong><code>dpe://</code> URI 寻址</strong>：四级渐进式 URI 规范</li>
<li><strong>传输事件</strong>：<code>client:get_finder</code> / <code>server:update_finder</code> / <code>notify:update_finder</code></li>
<li><strong>MCP 资源读取</strong>：通过标准 MCP <code>resources/read</code> 按 URI 级别获取内容</li>
</ol>
<p>Agent 内部的导航实现（如分页遍历、关键词搜索、格式转换、缓存策略等）<strong>不在协议范围内</strong>，由各 Agent 自行决定。</p>
<h3 id="设计理由">设计理由<a class="headerlink" href="#设计理由" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>避免工具冲突</strong>: 当 Agent 同时连接多个 Computer 时，每个 Computer 注册同名内置工具会产生冲突</li>
<li><strong>DPE 数据完整可获取</strong>: <code>client:get_finder</code> 已返回完整文档目录，<code>resources/read</code> 可按 URI 逐级读取任何内容，Agent 无需额外工具即可完成导航</li>
<li><strong>Agent 差异化</strong>: 不同 Agent 对导航体验的需求不同（如有的需要搜索，有的只需顺序翻页），协议不应强制统一</li>
</ul>
<h3 id="渐进式导航流程">渐进式导航流程<a class="headerlink" href="#渐进式导航流程" title="Permanent link">&para;</a></h3>
<p>Agent 通过以下四步完成从文档目录到具体元素的逐层钻入，每一步的返回值都包含进入下一步所需的信息，<strong>无需猜测或试错</strong>：</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>Step 1                    Step 2                  Step 3                  Step 4
<a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>client:get_finder    →    resources/read L1   →   resources/read L2   →   resources/read L3
<a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>获取文档列表              获取文档元数据+页面索引    读取页面内容              读取元素详情
<a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>                          ▲                       ▲                       ▲
<a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>返回每个文档的             返回 page_count          返回每个元素的            返回元素
<a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>doc_ref, uri,             + pages[] 数组           element_id              完整内容
<a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>page_count 等              (含标题、元素数)
</code></pre></div>
<h4 id="step-1-获取文档列表">Step 1: 获取文档列表<a class="headerlink" href="#step-1-获取文档列表" title="Permanent link">&para;</a></h4>
<p>通过 <code>client:get_finder</code> 获取经 Organizer 排序后的文档目录。每个文档摘要中包含 <code>page_count</code>，Agent 无需额外请求即可知道文档有多少页。</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">finder_ret</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">get_finder</span><span class="p">(</span><span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">finder_ret</span><span class="p">[</span><span class="s2">&quot;documents&quot;</span><span class="p">]:</span>
<a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">doc</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">doc</span><span class="p">[</span><span class="s1">&#39;page_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> 页&quot;</span><span class="p">)</span>
<a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a>    <span class="c1"># → &quot;2026 年度报告: 12 页&quot;</span>
<a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>    <span class="c1"># → &quot;A1 合同: 5 页&quot;</span>
</code></pre></div>
<p>可选过滤参数：<code>keywords</code>、<code>file_type</code>、<code>offset</code>、<code>limit</code>。</p>
<h4 id="step-2-打开文档读取-level-1">Step 2: 打开文档（读取 Level 1）<a class="headerlink" href="#step-2-打开文档读取-level-1" title="Permanent link">&para;</a></h4>
<p>用文档 URI 调用 <code>resources/read</code>，获取元数据。添加 <code>?depth=pages</code> 可同时获取页面索引（含标题和元素数），用于展示目录或让用户选择页面。</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="c1"># 仅元数据（默认 depth=metadata）</span>
<a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="n">doc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a>    <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span>
<a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="p">)</span>
<a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="n">page_count</span> <span class="o">=</span> <span class="n">doc</span><span class="p">[</span><span class="s2">&quot;page_count&quot;</span><span class="p">]</span>  <span class="c1"># 12 → 有效页码范围: 0 ~ 11</span>
<a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a>
<a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="c1"># 元数据 + 页面索引</span>
<a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="n">doc</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a>    <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026?depth=pages&amp;offset=0&amp;limit=10&quot;</span>
<a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="p">)</span>
<a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="k">for</span> <span class="n">page</span> <span class="ow">in</span> <span class="n">doc</span><span class="p">[</span><span class="s2">&quot;pages&quot;</span><span class="p">]:</span>
<a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  第 </span><span class="si">{</span><span class="n">page</span><span class="p">[</span><span class="s1">&#39;page_index&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> 页: </span><span class="si">{</span><span class="n">page</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (</span><span class="si">{</span><span class="n">page</span><span class="p">[</span><span class="s1">&#39;element_count&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> 元素)&quot;</span><span class="p">)</span>
<a id="__codelineno-23-15" name="__codelineno-23-15" href="#__codelineno-23-15"></a>    <span class="c1"># → &quot;  第 0 页: 概览 (8 元素)&quot;</span>
<a id="__codelineno-23-16" name="__codelineno-23-16" href="#__codelineno-23-16"></a>    <span class="c1"># → &quot;  第 1 页: 收入分析 (15 元素)&quot;</span>
</code></pre></div>
<div class="admonition tip">
<p class="admonition-title">如何知道文档有多少页？</p>
<p><strong>Step 1</strong> 返回的 <code>DPEDocumentSummary.page_count</code> 和 <strong>Step 2</strong> 返回的文档元数据 <code>page_count</code> 都包含总页数。不需要从 0 开始逐页尝试——拿到 <code>page_count</code> 后，有效页码范围就是 <code>0</code> ~ <code>page_count - 1</code>。</p>
</div>
<h4 id="step-3-阅读页面读取-level-2">Step 3: 阅读页面（读取 Level 2）<a class="headerlink" href="#step-3-阅读页面读取-level-2" title="Permanent link">&para;</a></h4>
<p>用 <code>pages/{N}</code> URI 读取具体页面。返回值包含该页所有元素的 <code>element_id</code>、<code>category</code>、<code>summary</code> 和 <code>content</code>。</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1"># 读取第 0 页（Markdown 格式）</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a>    <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/pages/0?format=markdown&quot;</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="p">)</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="c1"># 仅获取表格类元素</span>
<a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a>    <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/pages/0?categories=table,pivot_table&quot;</span>
<a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="p">)</span>
<a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">page</span><span class="p">[</span><span class="s2">&quot;elements&quot;</span><span class="p">]:</span>
<a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;  [</span><span class="si">{</span><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;category&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">] </span><span class="si">{</span><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;element_id&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">elem</span><span class="p">[</span><span class="s1">&#39;summary&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a>    <span class="c1"># → &quot;  [table] tbl-001: 季度收入对比表（4行3列）&quot;</span>
</code></pre></div>
<h4 id="step-4-查看元素详情读取-level-3">Step 4: 查看元素详情（读取 Level 3）<a class="headerlink" href="#step-4-查看元素详情读取-level-3" title="Permanent link">&para;</a></h4>
<p>用 <code>elements/{ID}</code> URI 读取单个元素的完整内容和附加元数据。</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="n">element</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>    <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026/elements/tbl-001&quot;</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="p">)</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="c1"># element[&quot;content&quot;] → 完整表格数据（headers + rows）</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="c1"># element[&quot;metadata&quot;] → {&quot;source_range&quot;: &quot;A1:C5&quot;, &quot;has_formulas&quot;: true}</span>
</code></pre></div>
<h4 id="完整示例遍历文档所有页面">完整示例：遍历文档所有页面<a class="headerlink" href="#完整示例遍历文档所有页面" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="c1"># 1. 获取文档目录</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="n">finder_ret</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">get_finder</span><span class="p">(</span><span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">)</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="n">doc</span> <span class="o">=</span> <span class="n">finder_ret</span><span class="p">[</span><span class="s2">&quot;documents&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># 选择第一个文档</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="c1"># 2. 已知 page_count，遍历所有页面</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">doc</span><span class="p">[</span><span class="s2">&quot;page_count&quot;</span><span class="p">]):</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a>    <span class="n">page</span> <span class="o">=</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a>        <span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a>        <span class="n">uri</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">doc</span><span class="p">[</span><span class="s1">&#39;uri&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/pages/</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2">?format=markdown&quot;</span>
<a id="__codelineno-26-10" name="__codelineno-26-10" href="#__codelineno-26-10"></a>    <span class="p">)</span>
<a id="__codelineno-26-11" name="__codelineno-26-11" href="#__codelineno-26-11"></a>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;--- 第 </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s2"> 页: </span><span class="si">{</span><span class="n">page</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2"> ---&quot;</span><span class="p">)</span>
<a id="__codelineno-26-12" name="__codelineno-26-12" href="#__codelineno-26-12"></a>    <span class="nb">print</span><span class="p">(</span><span class="n">page</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;content_markdown&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">))</span>
</code></pre></div>
<h3 id="agent-内部工具注册可选">Agent 内部工具注册（可选）<a class="headerlink" href="#agent-内部工具注册可选" title="Permanent link">&para;</a></h3>
<p>Agent 可在内部将导航操作封装为工具，供 LLM 调用。这不是协议规范，仅供参考：</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nd">@agent</span><span class="o">.</span><span class="n">internal_tool</span><span class="p">(</span><span class="s2">&quot;browse_document&quot;</span><span class="p">)</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">browse_document</span><span class="p">(</span><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">page</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">):</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;浏览文档指定页面&quot;&quot;&quot;</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a>    <span class="n">page_uri</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">uri</span><span class="si">}</span><span class="s2">/pages/</span><span class="si">{</span><span class="n">page</span><span class="si">}</span><span class="s2">?format=markdown&quot;</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a>    <span class="k">return</span> <span class="k">await</span> <span class="n">agent</span><span class="o">.</span><span class="n">read_resource</span><span class="p">(</span><span class="n">computer</span><span class="o">=</span><span class="s2">&quot;my-computer&quot;</span><span class="p">,</span> <span class="n">uri</span><span class="o">=</span><span class="n">page_uri</span><span class="p">)</span>
</code></pre></div>
<hr />
<h2 id="mcp-server-实现指南">MCP Server 实现指南<a class="headerlink" href="#mcp-server-实现指南" title="Permanent link">&para;</a></h2>
<h3 id="前提条件">前提条件<a class="headerlink" href="#前提条件" title="Permanent link">&para;</a></h3>
<p>MCP Server 若要参与 Finder，必须声明 <code>resources.subscribe</code> 能力。否则 Computer 不会枚举该 Server 的文档资源，也不会收到该 Server 的资源变更通知。</p>
<h3 id="资源声明">资源声明<a class="headerlink" href="#资源声明" title="Permanent link">&para;</a></h3>
<p>在 <code>resources/list</code> 响应中返回 <code>dpe://</code> URI 的 Resource。每个文档对应一个 Level 1 URI：</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="nd">@server</span><span class="o">.</span><span class="n">list_resources</span><span class="p">()</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">list_resources</span><span class="p">():</span>
<a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>    <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>        <span class="n">Resource</span><span class="p">(</span>
<a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>            <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span><span class="p">,</span>
<a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;2026 年度报告&quot;</span><span class="p">,</span>
<a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;2026 年度财务与运营报告&quot;</span><span class="p">,</span>
<a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>            <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>        <span class="p">),</span>
<a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>        <span class="n">Resource</span><span class="p">(</span>
<a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>            <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/contract-a1&quot;</span><span class="p">,</span>
<a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;A1 合同&quot;</span><span class="p">,</span>
<a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;A1 项目服务合同&quot;</span><span class="p">,</span>
<a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>            <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>        <span class="p">),</span>
<a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a>    <span class="p">]</span>
</code></pre></div>
<h3 id="资源模板">资源模板<a class="headerlink" href="#资源模板" title="Permanent link">&para;</a></h3>
<p>声明 <code>pages/{N}</code> 和 <code>elements/{ID}</code> 模板，使 Agent 和 Computer 能够发现文档内的子资源路径：</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="nd">@server</span><span class="o">.</span><span class="n">list_resource_templates</span><span class="p">()</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">list_resource_templates</span><span class="p">():</span>
<a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a>    <span class="k">return</span> <span class="p">[</span>
<a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a>        <span class="n">ResourceTemplate</span><span class="p">(</span>
<a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a>            <span class="n">uriTemplate</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/</span><span class="si">{doc_ref}</span><span class="s2">/pages/</span><span class="si">{page_index}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;文档页面&quot;</span><span class="p">,</span>
<a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a>            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;按页码访问文档页面内容&quot;</span><span class="p">,</span>
<a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a>        <span class="p">),</span>
<a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a>        <span class="n">ResourceTemplate</span><span class="p">(</span>
<a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a>            <span class="n">uriTemplate</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/</span><span class="si">{doc_ref}</span><span class="s2">/elements/</span><span class="si">{element_id}</span><span class="s2">&quot;</span><span class="p">,</span>
<a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a>            <span class="n">name</span><span class="o">=</span><span class="s2">&quot;文档元素&quot;</span><span class="p">,</span>
<a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a>            <span class="n">description</span><span class="o">=</span><span class="s2">&quot;按元素 ID 访问文档元素详情&quot;</span><span class="p">,</span>
<a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a>        <span class="p">),</span>
<a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a>    <span class="p">]</span>
</code></pre></div>
<h3 id="内容提供">内容提供<a class="headerlink" href="#内容提供" title="Permanent link">&para;</a></h3>
<p>实现 <code>resources/read</code>，根据 URI 级别返回对应 JSON 内容：</p>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="nd">@server</span><span class="o">.</span><span class="n">read_resource</span><span class="p">()</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_resource</span><span class="p">(</span><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
<a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a>    <span class="n">parsed</span> <span class="o">=</span> <span class="n">parse_dpe_uri</span><span class="p">(</span><span class="n">uri</span><span class="p">)</span>
<a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a>
<a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a>    <span class="k">if</span> <span class="n">parsed</span><span class="o">.</span><span class="n">doc_ref</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a>        <span class="c1"># Level 0: 文档目录</span>
<a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a>        <span class="k">return</span> <span class="n">ReadResourceResult</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a>            <span class="n">TextResourceContents</span><span class="p">(</span>
<a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a>                <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
<a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a>                <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a>                <span class="n">text</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">get_document_catalog</span><span class="p">()),</span>
<a id="__codelineno-30-12" name="__codelineno-30-12" href="#__codelineno-30-12"></a>            <span class="p">)</span>
<a id="__codelineno-30-13" name="__codelineno-30-13" href="#__codelineno-30-13"></a>        <span class="p">])</span>
<a id="__codelineno-30-14" name="__codelineno-30-14" href="#__codelineno-30-14"></a>
<a id="__codelineno-30-15" name="__codelineno-30-15" href="#__codelineno-30-15"></a>    <span class="k">if</span> <span class="n">parsed</span><span class="o">.</span><span class="n">sub_path</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
<a id="__codelineno-30-16" name="__codelineno-30-16" href="#__codelineno-30-16"></a>        <span class="c1"># Level 1: 文档元数据</span>
<a id="__codelineno-30-17" name="__codelineno-30-17" href="#__codelineno-30-17"></a>        <span class="k">return</span> <span class="n">ReadResourceResult</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-30-18" name="__codelineno-30-18" href="#__codelineno-30-18"></a>            <span class="n">TextResourceContents</span><span class="p">(</span>
<a id="__codelineno-30-19" name="__codelineno-30-19" href="#__codelineno-30-19"></a>                <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
<a id="__codelineno-30-20" name="__codelineno-30-20" href="#__codelineno-30-20"></a>                <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-30-21" name="__codelineno-30-21" href="#__codelineno-30-21"></a>                <span class="n">text</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">get_document_metadata</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">doc_ref</span><span class="p">)),</span>
<a id="__codelineno-30-22" name="__codelineno-30-22" href="#__codelineno-30-22"></a>            <span class="p">)</span>
<a id="__codelineno-30-23" name="__codelineno-30-23" href="#__codelineno-30-23"></a>        <span class="p">])</span>
<a id="__codelineno-30-24" name="__codelineno-30-24" href="#__codelineno-30-24"></a>
<a id="__codelineno-30-25" name="__codelineno-30-25" href="#__codelineno-30-25"></a>    <span class="k">if</span> <span class="n">parsed</span><span class="o">.</span><span class="n">sub_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;pages/&quot;</span><span class="p">):</span>
<a id="__codelineno-30-26" name="__codelineno-30-26" href="#__codelineno-30-26"></a>        <span class="c1"># Level 2: 页面内容</span>
<a id="__codelineno-30-27" name="__codelineno-30-27" href="#__codelineno-30-27"></a>        <span class="n">page_index</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">sub_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">])</span>
<a id="__codelineno-30-28" name="__codelineno-30-28" href="#__codelineno-30-28"></a>        <span class="k">return</span> <span class="n">ReadResourceResult</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-30-29" name="__codelineno-30-29" href="#__codelineno-30-29"></a>            <span class="n">TextResourceContents</span><span class="p">(</span>
<a id="__codelineno-30-30" name="__codelineno-30-30" href="#__codelineno-30-30"></a>                <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
<a id="__codelineno-30-31" name="__codelineno-30-31" href="#__codelineno-30-31"></a>                <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-30-32" name="__codelineno-30-32" href="#__codelineno-30-32"></a>                <span class="n">text</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">get_page_content</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">doc_ref</span><span class="p">,</span> <span class="n">page_index</span><span class="p">)),</span>
<a id="__codelineno-30-33" name="__codelineno-30-33" href="#__codelineno-30-33"></a>            <span class="p">)</span>
<a id="__codelineno-30-34" name="__codelineno-30-34" href="#__codelineno-30-34"></a>        <span class="p">])</span>
<a id="__codelineno-30-35" name="__codelineno-30-35" href="#__codelineno-30-35"></a>
<a id="__codelineno-30-36" name="__codelineno-30-36" href="#__codelineno-30-36"></a>    <span class="k">if</span> <span class="n">parsed</span><span class="o">.</span><span class="n">sub_path</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;elements/&quot;</span><span class="p">):</span>
<a id="__codelineno-30-37" name="__codelineno-30-37" href="#__codelineno-30-37"></a>        <span class="c1"># Level 3: 元素详情</span>
<a id="__codelineno-30-38" name="__codelineno-30-38" href="#__codelineno-30-38"></a>        <span class="n">element_id</span> <span class="o">=</span> <span class="n">parsed</span><span class="o">.</span><span class="n">sub_path</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;/&quot;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
<a id="__codelineno-30-39" name="__codelineno-30-39" href="#__codelineno-30-39"></a>        <span class="k">return</span> <span class="n">ReadResourceResult</span><span class="p">(</span><span class="n">contents</span><span class="o">=</span><span class="p">[</span>
<a id="__codelineno-30-40" name="__codelineno-30-40" href="#__codelineno-30-40"></a>            <span class="n">TextResourceContents</span><span class="p">(</span>
<a id="__codelineno-30-41" name="__codelineno-30-41" href="#__codelineno-30-41"></a>                <span class="n">uri</span><span class="o">=</span><span class="n">uri</span><span class="p">,</span>
<a id="__codelineno-30-42" name="__codelineno-30-42" href="#__codelineno-30-42"></a>                <span class="n">mimeType</span><span class="o">=</span><span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
<a id="__codelineno-30-43" name="__codelineno-30-43" href="#__codelineno-30-43"></a>                <span class="n">text</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">get_element_detail</span><span class="p">(</span><span class="n">parsed</span><span class="o">.</span><span class="n">doc_ref</span><span class="p">,</span> <span class="n">element_id</span><span class="p">)),</span>
<a id="__codelineno-30-44" name="__codelineno-30-44" href="#__codelineno-30-44"></a>            <span class="p">)</span>
<a id="__codelineno-30-45" name="__codelineno-30-45" href="#__codelineno-30-45"></a>        <span class="p">])</span>
</code></pre></div>
<h3 id="变更通知">变更通知<a class="headerlink" href="#变更通知" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>文档增删时</strong>: 发出 <code>ResourceListChangedNotification</code></li>
<li><strong>文档内容变化时</strong>: 发出 <code>ResourceUpdatedNotification</code>（携带具体 <code>dpe://</code> URI）</li>
</ul>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="c1"># 文档列表变化</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="k">await</span> <span class="n">server</span><span class="o">.</span><span class="n">request_context</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">send_resource_list_changed</span><span class="p">()</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="c1"># 文档内容更新</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="k">await</span> <span class="n">server</span><span class="o">.</span><span class="n">request_context</span><span class="o">.</span><span class="n">session</span><span class="o">.</span><span class="n">send_resource_updated</span><span class="p">(</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a>    <span class="n">uri</span><span class="o">=</span><span class="s2">&quot;dpe://com.example.docs/rpt-2026&quot;</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="p">)</span>
</code></pre></div>
<h3 id="自动补全可选">自动补全（可选）<a class="headerlink" href="#自动补全可选" title="Permanent link">&para;</a></h3>
<p>MCP 规范定义了 <code>completion/complete</code> 方法，允许 Client 为资源模板参数请求自动补全建议。MCP Server <strong>SHOULD</strong>（推荐但非必须）为 <code>dpe://</code> 资源模板实现此能力，以帮助 Agent 或用户在构造 URI 时获得参数提示。</p>
<h4 id="补全流程">补全流程<a class="headerlink" href="#补全流程" title="Permanent link">&para;</a></h4>
<p><code>dpe://</code> 资源模板包含三个可补全参数，形成渐进式补全链：</p>
<div class="language-text highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>doc_ref → page_index → element_id
</code></pre></div>
<p>每一级补全依赖于前一级已选定的值：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>补全内容</th>
<th>依赖</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>doc_ref</code></td>
<td>返回该 Server 下所有可用文档的 <code>doc_ref</code> 列表</td>
<td>无</td>
</tr>
<tr>
<td><code>page_index</code></td>
<td>返回已选文档的有效页码列表</td>
<td><code>doc_ref</code></td>
</tr>
<tr>
<td><code>element_id</code></td>
<td>返回已选文档指定页面的元素 ID 列表</td>
<td><code>doc_ref</code> + <code>page_index</code></td>
</tr>
</tbody>
</table>
<h4 id="请求响应示例">请求/响应示例<a class="headerlink" href="#请求响应示例" title="Permanent link">&para;</a></h4>
<p><strong>补全 <code>doc_ref</code></strong>（列出可用文档）:</p>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="c1">// Request</span>
<a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="p">{</span>
<a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completion/complete&quot;</span><span class="p">,</span>
<a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">    </span><span class="nt">&quot;ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref/resource&quot;</span><span class="p">,</span>
<a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/{doc_ref}/pages/{page_index}&quot;</span>
<a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">    </span><span class="nt">&quot;argument&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;doc_ref&quot;</span><span class="p">,</span>
<a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rpt&quot;</span>
<a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="p">}</span>
<a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a>
<a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="c1">// Response</span>
<a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="p">{</span>
<a id="__codelineno-33-18" name="__codelineno-33-18" href="#__codelineno-33-18"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-33-19" name="__codelineno-33-19" href="#__codelineno-33-19"></a><span class="w">    </span><span class="nt">&quot;values&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;rpt-2026&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;rpt-2025&quot;</span><span class="p">],</span>
<a id="__codelineno-33-20" name="__codelineno-33-20" href="#__codelineno-33-20"></a><span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-33-21" name="__codelineno-33-21" href="#__codelineno-33-21"></a><span class="w">    </span><span class="nt">&quot;hasMore&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-33-22" name="__codelineno-33-22" href="#__codelineno-33-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-33-23" name="__codelineno-33-23" href="#__codelineno-33-23"></a><span class="p">}</span>
</code></pre></div>
<p><strong>补全 <code>page_index</code></strong>（列出文档页码）:</p>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a><span class="c1">// Request</span>
<a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a><span class="p">{</span>
<a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completion/complete&quot;</span><span class="p">,</span>
<a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a><span class="w">    </span><span class="nt">&quot;ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref/resource&quot;</span><span class="p">,</span>
<a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/{doc_ref}/pages/{page_index}&quot;</span>
<a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a><span class="w">    </span><span class="nt">&quot;argument&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-10" name="__codelineno-34-10" href="#__codelineno-34-10"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;page_index&quot;</span><span class="p">,</span>
<a id="__codelineno-34-11" name="__codelineno-34-11" href="#__codelineno-34-11"></a><span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span>
<a id="__codelineno-34-12" name="__codelineno-34-12" href="#__codelineno-34-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-34-13" name="__codelineno-34-13" href="#__codelineno-34-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-34-14" name="__codelineno-34-14" href="#__codelineno-34-14"></a><span class="p">}</span>
<a id="__codelineno-34-15" name="__codelineno-34-15" href="#__codelineno-34-15"></a>
<a id="__codelineno-34-16" name="__codelineno-34-16" href="#__codelineno-34-16"></a><span class="c1">// Response — 假设 doc_ref=rpt-2026 已在上下文中确定</span>
<a id="__codelineno-34-17" name="__codelineno-34-17" href="#__codelineno-34-17"></a><span class="p">{</span>
<a id="__codelineno-34-18" name="__codelineno-34-18" href="#__codelineno-34-18"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-34-19" name="__codelineno-34-19" href="#__codelineno-34-19"></a><span class="w">    </span><span class="nt">&quot;values&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;3&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;4&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;5&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;6&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;7&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;8&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;9&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;10&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;11&quot;</span><span class="p">],</span>
<a id="__codelineno-34-20" name="__codelineno-34-20" href="#__codelineno-34-20"></a><span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="p">,</span>
<a id="__codelineno-34-21" name="__codelineno-34-21" href="#__codelineno-34-21"></a><span class="w">    </span><span class="nt">&quot;hasMore&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-34-22" name="__codelineno-34-22" href="#__codelineno-34-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-34-23" name="__codelineno-34-23" href="#__codelineno-34-23"></a><span class="p">}</span>
</code></pre></div>
<p><strong>补全 <code>element_id</code></strong>（列出页面元素）:</p>
<div class="language-json highlight"><pre><span></span><code><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="c1">// Request</span>
<a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="p">{</span>
<a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">  </span><span class="nt">&quot;method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;completion/complete&quot;</span><span class="p">,</span>
<a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">  </span><span class="nt">&quot;params&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">    </span><span class="nt">&quot;ref&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;ref/resource&quot;</span><span class="p">,</span>
<a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">      </span><span class="nt">&quot;uri&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dpe://com.example.docs/{doc_ref}/elements/{element_id}&quot;</span>
<a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="w">    </span><span class="p">},</span>
<a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w">    </span><span class="nt">&quot;argument&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;element_id&quot;</span><span class="p">,</span>
<a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w">      </span><span class="nt">&quot;value&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;tbl&quot;</span>
<a id="__codelineno-35-12" name="__codelineno-35-12" href="#__codelineno-35-12"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-35-13" name="__codelineno-35-13" href="#__codelineno-35-13"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-35-14" name="__codelineno-35-14" href="#__codelineno-35-14"></a><span class="p">}</span>
<a id="__codelineno-35-15" name="__codelineno-35-15" href="#__codelineno-35-15"></a>
<a id="__codelineno-35-16" name="__codelineno-35-16" href="#__codelineno-35-16"></a><span class="c1">// Response</span>
<a id="__codelineno-35-17" name="__codelineno-35-17" href="#__codelineno-35-17"></a><span class="p">{</span>
<a id="__codelineno-35-18" name="__codelineno-35-18" href="#__codelineno-35-18"></a><span class="w">  </span><span class="nt">&quot;completion&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<a id="__codelineno-35-19" name="__codelineno-35-19" href="#__codelineno-35-19"></a><span class="w">    </span><span class="nt">&quot;values&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;tbl-001&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;tbl-002&quot;</span><span class="p">],</span>
<a id="__codelineno-35-20" name="__codelineno-35-20" href="#__codelineno-35-20"></a><span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<a id="__codelineno-35-21" name="__codelineno-35-21" href="#__codelineno-35-21"></a><span class="w">    </span><span class="nt">&quot;hasMore&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<a id="__codelineno-35-22" name="__codelineno-35-22" href="#__codelineno-35-22"></a><span class="w">  </span><span class="p">}</span>
<a id="__codelineno-35-23" name="__codelineno-35-23" href="#__codelineno-35-23"></a><span class="p">}</span>
</code></pre></div>
<h4 id="实现示例">实现示例<a class="headerlink" href="#实现示例" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="nd">@server</span><span class="o">.</span><span class="n">complete_resource</span><span class="p">()</span>
<a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">complete_resource</span><span class="p">(</span><span class="n">uri</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">argument</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a>    <span class="n">name</span> <span class="o">=</span> <span class="n">argument</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span>
<a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a>    <span class="n">prefix</span> <span class="o">=</span> <span class="n">argument</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
<a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a>
<a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a>    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;doc_ref&quot;</span><span class="p">:</span>
<a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a>        <span class="c1"># 返回匹配前缀的文档引用</span>
<a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a>        <span class="n">all_refs</span> <span class="o">=</span> <span class="n">get_all_doc_refs</span><span class="p">()</span>
<a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">ref</span> <span class="k">for</span> <span class="n">ref</span> <span class="ow">in</span> <span class="n">all_refs</span> <span class="k">if</span> <span class="n">ref</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span>
<a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a>
<a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a>    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;page_index&quot;</span><span class="p">:</span>
<a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a>        <span class="c1"># 返回有效页码（需要从上下文获取 doc_ref）</span>
<a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a>        <span class="n">page_count</span> <span class="o">=</span> <span class="n">get_document_page_count</span><span class="p">(</span><span class="n">context_doc_ref</span><span class="p">)</span>
<a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a>        <span class="n">pages</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">page_count</span><span class="p">)]</span>
<a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">pages</span> <span class="k">if</span> <span class="n">p</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span>
<a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a>
<a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a>    <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;element_id&quot;</span><span class="p">:</span>
<a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a>        <span class="c1"># 返回匹配前缀的元素 ID</span>
<a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a>        <span class="n">elements</span> <span class="o">=</span> <span class="n">get_element_ids</span><span class="p">(</span><span class="n">context_doc_ref</span><span class="p">)</span>
<a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a>        <span class="k">return</span> <span class="p">[</span><span class="n">eid</span> <span class="k">for</span> <span class="n">eid</span> <span class="ow">in</span> <span class="n">elements</span> <span class="k">if</span> <span class="n">eid</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">prefix</span><span class="p">)]</span>
<a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a>
<a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a>    <span class="k">return</span> <span class="p">[]</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">可选能力</p>
<p><code>completion/complete</code> 是 MCP 规范中的可选能力。未实现此方法的 MCP Server 仍然可以正常参与 Finder 系统，Agent 只需通过 <code>client:get_finder</code> 和 <code>resources/read</code> 完成导航。</p>
</div>
<h3 id="最佳实践">最佳实践<a class="headerlink" href="#最佳实践" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>host 使用反向域名风格</strong>（如 <code>com.example.docs</code>）以避免与其他 MCP Server 冲突</li>
<li><strong>doc-ref 保持简短且 URL-safe</strong>，避免使用长路径或特殊字符</li>
<li><strong>页面内容按需加载</strong>，Level 1 默认仅返回元数据，避免传输大量页面数据</li>
<li><strong>元素 summary 保持精简</strong>，便于 Agent 快速判断是否需要深入查看</li>
<li><strong>及时发送变更通知</strong>，确保 Agent 获取到最新文档状态</li>
<li><strong>合理设置 page_count</strong>，在元数据中准确报告页数，帮助 Agent 规划翻页策略</li>
<li><strong>支持 categories 过滤</strong>，在 Level 2 响应中按 <code>categories</code> 参数过滤元素，减少不必要的数据传输</li>
<li><strong>考虑实现 <code>completion/complete</code></strong>，为 URI 模板参数提供自动补全，提升 Agent 的导航效率</li>
</ol>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/A2C-SMCP" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": ["content.tabs.link", "content.code.annotate", "content.code.copy", "announce.dismiss", "navigation.tabs", "navigation.sections", "navigation.expand", "navigation.path", "navigation.top", "search.suggest", "search.highlight", "toc.follow"], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": {"alias": true, "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>